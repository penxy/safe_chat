<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>qt_test: src/utils/interface.h 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">qt_test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_313caf1132e152dd9b58bea13a4052ca.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">宏定义</a>  </div>
  <div class="headertitle">
<div class="title">interface.h 文件参考</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;QMetaObject&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
interface.h 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="interface_8h__incl.png" border="0" usemap="#src_2utils_2interface_8h" alt=""/></div>
<map name="src_2utils_2interface_8h" id="src_2utils_2interface_8h">
<area shape="rect" title=" " alt="" coords="45,5,192,32"/>
<area shape="rect" title=" " alt="" coords="5,80,112,107"/>
<area shape="rect" title=" " alt="" coords="137,80,223,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
此图展示该文件直接或间接的被哪些文件引用了:</div>
<div class="dyncontent">
<div class="center"><img src="interface_8h__dep__incl.png" border="0" usemap="#src_2utils_2interface_8hdep" alt=""/></div>
<map name="src_2utils_2interface_8hdep" id="src_2utils_2interface_8hdep">
<area shape="rect" title=" " alt="" coords="1054,5,1201,32"/>
<area shape="rect" href="chat_8h.html" title=" " alt="" coords="689,80,808,107"/>
<area shape="rect" href="core_8h.html" title=" " alt="" coords="935,408,1053,435"/>
<area shape="rect" href="core__fd_8h.html" title=" " alt="" coords="951,237,1090,263"/>
<area shape="rect" href="addfrienddialog_8h.html" title=" " alt="" coords="1169,80,1411,107"/>
<area shape="rect" href="rmchatdialog_8h.html" title=" " alt="" coords="1445,80,1671,107"/>
<area shape="rect" href="chat_8cpp.html" title=" " alt="" coords="452,155,587,181"/>
<area shape="rect" href="friend_8h.html" title=" " alt="" coords="611,155,740,181"/>
<area shape="rect" href="group_8h.html" title=" " alt="" coords="799,237,927,263"/>
<area shape="rect" href="friend_8cpp.html" title=" " alt="" coords="407,237,551,263"/>
<area shape="rect" href="core_8cpp.html" title=" " alt="" coords="41,490,176,517"/>
<area shape="rect" href="fd__card_8cpp.html" title=" " alt="" coords="576,237,775,263"/>
<area shape="rect" href="gp__member_8cpp.html" title=" " alt="" coords="43,229,191,271"/>
<area shape="rect" href="fd__list__item_8cpp.html" title=" " alt="" coords="215,229,383,271"/>
<area shape="rect" href="group_8cpp.html" title=" " alt="" coords="701,326,844,353"/>
<area shape="rect" href="core__gp_8h.html" title=" " alt="" coords="868,326,1011,353"/>
<area shape="rect" href="gp__list__item_8cpp.html" title=" " alt="" coords="509,319,677,360"/>
<area shape="rect" href="widget_8cpp.html" title=" " alt="" coords="1225,490,1377,517"/>
<area shape="rect" href="chat__page_8cpp.html" title=" " alt="" coords="1401,483,1574,524"/>
<area shape="rect" href="ftp__page_8cpp.html" title=" " alt="" coords="1598,490,1795,517"/>
<area shape="rect" href="core__list_8cpp.html" title=" " alt="" coords="295,483,461,524"/>
<area shape="rect" href="fd__list_8cpp.html" title=" " alt="" coords="485,483,636,524"/>
<area shape="rect" href="gp__list_8cpp.html" title=" " alt="" coords="661,483,815,524"/>
<area shape="rect" href="list__page_8cpp.html" title=" " alt="" coords="840,483,999,524"/>
<area shape="rect" href="protocol_8cpp.html" title=" " alt="" coords="1023,490,1200,517"/>
<area shape="rect" href="addfrienddialog_8cpp.html" title=" " alt="" coords="1165,155,1423,181"/>
<area shape="rect" href="rmchatdialog_8cpp.html" title=" " alt="" coords="1447,155,1688,181"/>
</map>
</div>
</div>
<p><a href="interface_8h_source.html">浏览源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:a4e6b4d425d74bdf54f5fb4bc595e88a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8h.html#a4e6b4d425d74bdf54f5fb4bc595e88a6">DECLARE_SIGNAL</a>(name, ...)</td></tr>
<tr class="memdesc:a4e6b4d425d74bdf54f5fb4bc595e88a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decalre signal-like method. Should be used in interface  <a href="interface_8h.html#a4e6b4d425d74bdf54f5fb4bc595e88a6">更多...</a><br /></td></tr>
<tr class="separator:a4e6b4d425d74bdf54f5fb4bc595e88a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e6b4d425d74bdf54f5fb4bc595e88a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8h.html#a4e6b4d425d74bdf54f5fb4bc595e88a6">DECLARE_SIGNAL</a>(name, ...)</td></tr>
<tr class="memdesc:a4e6b4d425d74bdf54f5fb4bc595e88a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decalre signal-like method. Should be used in interface  <a href="interface_8h.html#a4e6b4d425d74bdf54f5fb4bc595e88a6">更多...</a><br /></td></tr>
<tr class="separator:a4e6b4d425d74bdf54f5fb4bc595e88a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb885ebbef446844faa408ce5ed67ca1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8h.html#aeb885ebbef446844faa408ce5ed67ca1">SIGNAL_IMPL</a>(classname,  name, ...)</td></tr>
<tr class="memdesc:aeb885ebbef446844faa408ce5ed67ca1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare signal and implement signal-like method.  <a href="interface_8h.html#aeb885ebbef446844faa408ce5ed67ca1">更多...</a><br /></td></tr>
<tr class="separator:aeb885ebbef446844faa408ce5ed67ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>Qt doesn't support QObject multiple inheritance. But for declaring signals in class, it should be inherit QObject. To avoid this issue, interface can provide some pure virtual methods, which allow to connect to some signal.</p>
<p>This file provides macros to make signals declaring easly. With this macros signal-like method will be declared and implemented in one line each. </p>
</div><h2 class="groupheader">宏定义说明</h2>
<a id="a4e6b4d425d74bdf54f5fb4bc595e88a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e6b4d425d74bdf54f5fb4bc595e88a6">&#9670;&nbsp;</a></span>DECLARE_SIGNAL <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_SIGNAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line">    <span class="keyword">using</span> Slot_##name = std::function&lt;void (__VA_ARGS__)&gt;; \</div>
<div class="line">    virtual QMetaObject::Connection connectTo_##name(QObject *receiver, Slot_##name slot) <span class="keyword">const</span> = 0</div>
</div><!-- fragment -->
<p>Decalre signal-like method. Should be used in interface </p>

</div>
</div>
<a id="a4e6b4d425d74bdf54f5fb4bc595e88a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e6b4d425d74bdf54f5fb4bc595e88a6">&#9670;&nbsp;</a></span>DECLARE_SIGNAL <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_SIGNAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line">    <span class="keyword">using</span> Slot_##name = std::function&lt;void (__VA_ARGS__)&gt;; \</div>
<div class="line">    virtual QMetaObject::Connection connectTo_##name(QObject *receiver, Slot_##name slot) <span class="keyword">const</span> = 0</div>
</div><!-- fragment -->
<p>Decalre signal-like method. Should be used in interface </p>

</div>
</div>
<a id="aeb885ebbef446844faa408ce5ed67ca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb885ebbef446844faa408ce5ed67ca1">&#9670;&nbsp;</a></span>SIGNAL_IMPL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIGNAL_IMPL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">classname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line">    <span class="keyword">using</span> Slot_##name = std::function&lt;void (__VA_ARGS__)&gt;; \</div>
<div class="line">    Q_SIGNAL <span class="keywordtype">void</span> name(__VA_ARGS__); \</div>
<div class="line">    QMetaObject::Connection connectTo_##name(QObject *receiver, Slot_##name slot)<span class="keyword"> const override </span>{ \</div>
<div class="line">        return connect(<span class="keyword">this</span>, &amp;classname::name, receiver, slot); \</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p>Declare signal and implement signal-like method. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
